(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{225:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return T}));var r=n(72),a=n(9),c=n(5),o=n(503),i=n(509),u=n(504),s=n(510),f=n.n(s),d=n(511),p=n.n(d),l=n(512),m=n.n(l),h=n(513),v=n.n(h),x=n(514),y=n.n(x),b=n(515),g=n.n(b),w=n(516),k=n.n(w),O=n(517),j=n.n(O),E=n(518),R=n.n(E),P=["canvas"];function A(t){return function(t){if(Array.isArray(t))return B(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return B(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function I(t,e,n,r,a,c,o){try{var i=t[c](o),u=i.value}catch(s){return void n(s)}i.done?e(u):Promise.resolve(u).then(r,a)}function C(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var c=t.apply(e,n);function o(t){I(c,r,a,o,i,"next",t)}function i(t){I(c,r,a,o,i,"throw",t)}o(void 0)}))}}function S(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},c=Object.keys(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function T(t){var e=t.canvas,n=void 0===e?c.a.SVG:e,r=S(t,P),a=n,o=(r.callback,[{type:"circle1",src:f.a},{type:"circle2",src:p.a},{type:"circle3",src:m.a},{type:"rect1",src:v.a},{type:"rect2",src:y.a},{type:"rect3",src:g.a},{type:"triangle1",src:k.a},{type:"triangle2",src:j.a},{type:"triangle3",src:R.a}]),i=r.position,u=a.g();J({g:u,items:o,position:i})}var J=function(t){var e=t.g,n=t.items,c=t.position,s=c.center,f=c.rows,d=c.columns,p=c.size,l=e.g().addClass("D1-item-group"),m=n.length,h=f*d-m,v=Object(o.f)(n,h),x=Object(o.d)({startPoint:{x:s.cx,y:s.cy},rows:f,columns:d,gap:{x:p.width,y:p.height},center:!0}),y=Object(o.m)(n.concat(v)).map((function(t,e){var n=t.type,a=t.src,c=x[e],o=c.x,u=c.y,s=l.g(),f=Object(r.e)({src:a,key:"".concat(n,"-").concat(e),type:"svg"}),d=f.getBBox(),m=d.w,h=d.h;return f.use().transform("t"+[o-m/2,u-h/2]+"s0.7").appendTo(s),s.rect(o-p.width/2,u-p.height/2,p.width,p.height).attr({stroke:"blue",opacity:"0"}).after(s.select("use")),s.data("data",{type:n,index:e}),Object(i.a)({dragItem:s,startCallback:function(){return b(s)},moveCallback:function(){return g(s)},endCallback:function(){return w(s)}})})),b=function(t){l.append(t)},g=function(t){},w=function(){var t=C(regeneratorRuntime.mark((function t(e){var n,r,a,c,o,i,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(y.forEach((function(t){return t.attr({pointerEvents:"none"})})),n=e.data("data").index,"number"!==typeof(r=S(e))){t.next=17;break}return a=y[r],t.next=7,R(e,a);case 7:if(c=P(),!c.answer){t.next=13;break}return t.next=11,k();case 11:t.next=15;break;case 13:return t.next=15,R(a,e);case 15:t.next=20;break;case 17:return o=x[n],i=o.x,u=o.y,t.next=20,e.moveAnimate({x:i-p.width/2,y:u-p.height/2});case 20:y.forEach((function(t){return t.attr({pointerEvents:"auto"})}));case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),k=function(){var t=C(regeneratorRuntime.mark((function t(){var e,n,r,a,c,o=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=!(o.length>0&&void 0!==o[0])||o[0];case 1:if(!e){t.next=16;break}if(n=P(),r=n.answer,a=n.removeIndex,!r){t.next=13;break}return t.next=6,O(a);case 6:return t.next=8,j(a);case 8:return c=t.sent,t.next=11,E(c);case 11:t.next=14;break;case 13:return t.abrupt("break",16);case 14:t.next=1;break;case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=function(){var t=C(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.map((function(t){return u.a.blink({interval:.5,duration:500,element:y[t],opacity:1})})));case 2:return t.next=4,Promise.all(e.map((function(t){return u.a.blink({interval:.5,duration:500,element:y[t],opacity:1})})));case 4:return t.next=6,Promise.all(e.map((function(t){return u.a.blink({interval:1,duration:250,element:y[t],opacity:1})})));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=C(regeneratorRuntime.mark((function t(e){var n,r,a,c,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y.forEach((function(t,n){return e.includes(n)&&t.remove()})),n=Object(o.j)(Object(o.c)(y,d)),r=y.map((function(t,e){return e})),a=[],c=[],n.forEach((function(t){t.forEach((function(e,n){var r=e.data("data").index;if(!e.removed){var o=t.reduce((function(t,e,r){return n<r&&e.removed?t+1:t}),0);if(o>0){var i=r+d*o,u=x[i],s=u.x,f=u.y;e.data("data").index=i,c.push(e.moveAnimate.bind(null,{x:s-p.width/2,y:f-p.height/2},window.mina.bounce,!0)),a.push(i)}else a.push(r)}}))})),i=r.filter((function(t){return!a.includes(t)})),t.next=9,Promise.all(c.map((function(t){return t()})));case 9:return t.abrupt("return",i);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=function(){var t=C(regeneratorRuntime.mark((function t(e){var a,c,u,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=function(t){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=0;case 1:if(!(e<t.length)){n.next=7;break}return n.next=4,t[e];case 4:e++,n.next=1;break;case 7:case"end":return n.stop()}}),a)},a=regeneratorRuntime.mark(s),c=s(e),u=[],y.forEach((function(t,e){if(t.removed){var a=c.next().value,s=Object(o.m)(Object(o.f)(n,5))[0],f=s.type,d=s.src,m=x[a],h=m.x,v=m.y,k=l.g(),O=Object(r.e)({src:d,key:"".concat(f,"-").concat(e),type:"svg"}),j=O.getBBox(),E=j.w,R=j.h;O.use().transform("t"+[h-E/2,-R/2]+"s0.7").appendTo(k),k.rect(h-p.width/2,-p.height/2,p.width,p.height).attr({stroke:"blue",opacity:"0"}).after(k.select("use")),k.data("data",{type:f,index:a}),y[e]=Object(i.a)({dragItem:k,startCallback:function(){return b(k)},moveCallback:function(){return g(k)},endCallback:function(){return w(k)}}),u[e]=y[e].moveAnimate.bind(null,{x:h-p.width/2,y:v-p.height/2},window.mina.bounce,!0)}})),y.sort((function(t,e){return t.data("data").index-e.data("data").index})),t.next=8,Promise.all(u.map((function(t){return t()})));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),R=function(){var t=C(regeneratorRuntime.mark((function t(e,n){var r,a,c,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.data("data").index,a=n.data("data").index,c=[e,n],o=[a,r].map((function(t,e){var n=x[t],r=n.x,a=n.y;return c[e].moveAnimate.bind(null,{x:r-p.width/2,y:a-p.height/2})})),t.next=7,Promise.all(o.map((function(t){return t()})));case 7:e.data("data").index=a,n.data("data").index=r,y.sort((function(t,e){return t.data("data").index-e.data("data").index}));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),P=function(){var t=B(),e=I(),n=Object(o.k)([].concat(A(t),A(e)));return{answer:Boolean(n.length>0),removeIndex:n}},B=function(){var t=[];return Object(o.c)(y,d).map((function(t){var e=[];return t.forEach((function(n,r){var a=n.data("data").type;e[r]=[],t.some((function(t,n){return!(r>n)&&(a!==t.data("data").type||(e[r].push(t.data("data").index),!1))}))})),e})).forEach((function(e){return e.forEach((function(e){e.length>2&&(t=[].concat(A(t),A(e)))}))})),Object(o.k)(t)},I=function(){var t=[];return Object(o.j)(Object(o.c)(y,d)).map((function(t){var e=[];return t.forEach((function(n,r){var a=n.data("data").type;e[r]=[],t.some((function(t,n){return!(r>n)&&(a!==t.data("data").type||(e[r].push(t.data("data").index),!1))}))})),e})).forEach((function(e){return e.forEach((function(e){e.length>2&&(t=[].concat(A(t),A(e)))}))})),Object(o.k)(t)},S=function(t){var e,n=t.getBBox(),r=n.cx,c=n.cy,o=t.data("data");return y.some((function(t,n){var i=t.getBBox();return!(!a.a.path.isPointInsideBBox(i,r,c)||o.index===n)&&(e=n,!0)})),e};(function(){var t=C(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=P(),n=e.answer,k(n);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}}}]);
//# sourceMappingURL=6.8a4decbd.chunk.js.map